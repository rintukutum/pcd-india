<div id="sketch" class="hasFrameBorder" style="height: 639px;background-color: rgb(240, 240, 240);">
		<form id="sketchForm" target="sketchIframe494102" action="//preview.openprocessing.org/sketch/preview/?random=0.6591863889873204" method="POST">
			<input id="sketchConfig" type="hidden" name="config" value="{&quot;codeObjects&quot;:[{&quot;title&quot;:null,&quot;visualCodeID&quot;:null,&quot;code&quot;:&quot;
//20170107简单的粒子系统

var particles_a = [];
var particles_b = [];
var particles_c = [];
var nums =200;
var noiseScale = 800;

function setup(){
    createCanvas(windowWidth, windowHeight);
    background(255);
    for(var i = 0; i < nums; i++){
        particles_a[i] = new Particle(random(0, width),random(0,height));
        particles_b[i] = new Particle(random(0, width),random(0,height));
        particles_c[i] = new Particle(random(0, width),random(0,height));
    }
}

function draw(){
    noStroke();
    smooth();
        for(var i = 0; i < nums; i++){
        var radius = map(i,0,nums,1,2);
        var alpha = map(i,0,nums,0,50);

        fill(248,231,28,alpha);
        particles_a[i].move();
        particles_a[i].display(radius);
        particles_a[i].checkEdge();

        fill(225,71,71,alpha);
        particles_b[i].move();
        particles_b[i].display(radius);
        particles_b[i].checkEdge();

        fill(115,193,232,alpha);
        particles_c[i].move();
        particles_c[i].display(radius);
        particles_c[i].checkEdge();
    }
}


function Particle(x, y){
    this.dir = createVector(0, 0);
    this.vel = createVector(0, 0);
    this.pos = createVector(x, y);
    this.speed = 0.4;

    this.move = function(){
        var angle = noise(this.pos.x/noiseScale, this.pos.y/noiseScale)*TWO_PI*noiseScale;
        this.dir.x = cos(angle);
        this.dir.y = sin(angle);
        this.vel = this.dir.copy();
        this.vel.mult(this.speed);
        this.pos.add(this.vel);
    }

    this.checkEdge = function(){
        if(this.pos.x > width || this.pos.x < 0 || this.pos.y > height || this.pos.y < 0){
            this.pos.x = random(50, width);
            this.pos.y = random(50, height);
        }
    }

    this.display = function(r){
        ellipse(this.pos.x, this.pos.y, r, r);
    }
}

&quot;}],&quot;visualID&quot;:&quot;494102&quot;,&quot;isPjs&quot;:&quot;2&quot;,&quot;giveFocus&quot;:false,&quot;fileBase&quot;:&quot;https://openprocessing-usercontent.s3.amazonaws.com/files/user111178/visual494102/h113f83b889cb16d22eded0bf876a95e1/&quot;,&quot;engineUrl&quot;:&quot;https://cdn.jsdelivr.net/npm/p5@0.5.16/lib/p5.min.js&quot;,&quot;libraryBase&quot;:&quot;https://www.openprocessing.org/&quot;,&quot;hasFrameBorder&quot;:true,&quot;libraries&quot;:[]}"></form>

	<iframe class="" name="sketchIframe494102" crossorigin="anonymous" allow="midi; geolocation; microphone; camera; encrypted-media; accelerometer; magnetometer; gyroscope;" sandbox="allow-forms allow-scripts allow-same-origin allow-modals allow-popups" allowfullscreen="" allowpaymentrequest="" allowtransparency="true" frameborder="0" onload="sketchEngine.sketchReady()" src="//preview.openprocessing.org/sketch/preview/"></iframe>
</div>